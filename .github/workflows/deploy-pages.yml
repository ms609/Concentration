name: Deploy
on:
  push:
    branches: [ master ]
  
jobs:
  deploy:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - run: |
      mkdir output
      mkdir pdf
    - uses: docker://pandoc/core:2.9
      with:
        args: --standalone --output=output/concentration.html md/concentration.md
    - run: |
        echo "::set-env name=FILELIST::$(printf '"%s" ' *.md)"
    - uses: docker://pandoc/latex:2.9
      with:
        args: --output=output/result.pdf ${{ env.FILELIST }}
        
    - uses: actions/upload-artifact@master
      with:
        name: output
        path: pdf